<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini</title>
    <link rel="shortcut icon" href="gemini_favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body class="body-class">
    <!-- left-header -->
    <div id="left_header_container" class="left-header-container">
        <div class="flex flex-col">
            <!--Hamburger icon  -->
            <div class="w-full">
                <span id="left_header" class="material-symbols-outlined left-header-icon">
                    menu
                </span>
            </div>
            <!-- plus icon -->
            <div class="new-chat">
                <span class="material-symbols-outlined">
                    add
                </span>
                <span id="new-chat" class="wider_left_header_content">New chat</span>
            </div>
        </div>
        <div class="setting-container">
            <!-- Help icon -->
            <div class="left-header-item">
                <span class="material-symbols-outlined left-header-icon">
                    help
                </span>
                <span class="p-[10px] wider_left_header_content">Help</span>
            </div>
            <!-- History icon -->
            <div class="left-header-item">
                <span class="material-symbols-outlined left-header-icon">
                    history
                </span>
                <span class="p-[10px] wider_left_header_content">Activity</span>
            </div>
            <!-- Settings icon -->
            <div class="left-header-item">
                <span class="material-symbols-outlined left-header-icon">
                    settings
                </span>
                <span class="p-[10px] wider_left_header_content">Settings</span>
            </div>
        </div>
    </div>

    <div id="right" class="right-container">
        <header class="top-header">
            <div class="left-header" id="gemini-1">
                <div class="header-content">
                    <h2> Gemini</h2>
                    <svg class="custom-icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                        width="24px" fill="#5f6368">
                        <path d="M480-360 280-560h400L480-360Z" />
                    </svg>
                </div>
                <div class="popup-container" id="popup-1">
                    <div class="popup">
                        <div class="flex flex-col">
                            <span class="flex items-center gap-3">
                                <div class="flex text-white gap-0"><img _ngcontent-ng-c1469324842="" alt=""
                                        class="ng-tns-c1469324842-29 ng-star-inserted"
                                        src="https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d4735304ff6292a690345.svg"
                                        style=""></div>
                                <div>Gemini</div>
                            </span>
                            <span class="flex justify-between items-center">
                                <div class="flex gap-3 text-gray"><img _ngcontent-ng-c1469324842="" id="imgic" alt=""
                                        class="ng-tns-c1469324842-29 ng-star-inserted"
                                        src="https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d4735304ff6292a690345.svg"
                                        style="">Advanced Gemini</div>
                                <div class="upgrade-button">Upgrade</div>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right-header">
                <button class="geminiadvbtn" id="geminiadvbtn"><img
                        src="https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d4735304ff6292a690345.svg"
                        style="">Try Gemini Advanced</button>
                <span class="material-symbols-outlined">
                    apps
                </span>
                <img class="user-img" src="./gg.jpg" alt="">
            </div>
        </header>

        <!-- center div -->
        <div class="center-div">
            <div id="displayContainer" class="display-container">
                <h1 class="gradient-text">Hello, Ganesh</h1>
                <h1 class="hmhytext">How can I help you today?</h1>
                <div class="options-container">
                    <div class="option-card">
                        Help me find the latest trends
                    </div>
                    <div class="option-card">
                        Help me write a refund email for a product that's damaged
                    </div>
                    <div class="option-card">
                        Come up with a product name for a new app
                    </div>
                    <div class="option-card">
                        Brainstorm a tagline for my online store
                    </div>
                </div>
            </div>
        </div>

        <!--footer search box  -->
        <footer class="footer-container">
            <form id="formElement" action="" class="text-white">
                <span class="footer-search-box">
                    <input class="search-input" type="text" name="" id="searchBox" placeholder="Enter a prompt here">
                    <span class="search-icons">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
                        </svg>
                        <input type="file" class="hidden" name="" id="inputImage">
                        <svg xmlns="http://www.w3.org/2000/svg" id="iconInputImageBtn" fill="none" viewBox="0 0 24 24"
                            stroke-width="1.5" stroke="currentColor" class="icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z" />
                        </svg>
                        <button class="send-button" type="button">
                            <svg class="sendbtnsvg" xmlns="http://www.w3.org/2000/svg" height="24px"
                                viewBox="0 -960 960 960" width="24px" fill="#5f6368">
                                <path
                                    d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z" />
                            </svg>
                        </button>
                    </span>
                </span>
                <span id="disclamier">Gemini may display inaccurate info, including about people, so double-check its
                    responses. Your privacy and Gemini Apps</span>

            </form>
        </footer>
    </div>
    <!-- const API_KEY = "AIzaSyD5mX0yRLvanvZicir6kcC7JGQhBJ06nxY"; -->
    <script type="importmap">
        {
          "imports": {
            "@google/generative-ai": "https://esm.run/@google/generative-ai"
          }
        }
    </script>

    <script type="module">
        import { GoogleGenerativeAI } from "@google/generative-ai";

        const API_KEY = "AIzaSyD5mX0yRLvanvZicir6kcC7JGQhBJ06nxY";
        const genAI = new GoogleGenerativeAI(API_KEY);
        let i = 0;

        const searchBox = document.getElementById("searchBox");
        const sendButton = document.querySelector(".send-button");
        const formElement = document.getElementById("formElement");
        const displayContainer = document.getElementById("displayContainer");
        console.log(displayContainer);


        sendButton.addEventListener("click", runCode);
        formElement.addEventListener("submit", function (event) {
            event.preventDefault();
            runCode();
        });

        function stripHTML(html) {
            let doc = new DOMParser().parseFromString(html, 'text/html');
            return doc.body.textContent || "";
        }

        async function runCode() {
            const model = await genAI.getGenerativeModel({ model: "gemini-1.5-flash" });

            let userInput = searchBox.value.trim();
            searchBox.value = '';

            if (userInput === "") return;

            const prompt = userInput;

            try {
                const result = await model.generateContent(prompt);
                const response = await result.response;
                const markdownText = await response.text();
                const htmlText = marked.parse(markdownText);
                const plainText = htmlText;

                if (i === 0) {
                    displayContainer.innerHTML = "";
                }

                let userProfileContainer = document.createElement("div");
                userProfileContainer.classList.add("user-profile-container");

                let userProfileImg = document.createElement("img");
                userProfileImg.src = "./gg.jpg";
                userProfileImg.classList.add("user-img");
                //userProfileContainer.appendChild(userProfileImg);

                let userInputDiv = document.createElement("div");
                userInputDiv.innerHTML = `<div class="user-input-div"><img src="./gg.jpg" class="user-img" >  ${userInput}</div>`;

                let responseDiv = document.createElement("div");
                responseDiv.classList.add("response-div");
                responseDiv.innerHTML = `<div class="response-div"><img src="https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d4735304ff6292a690345.svg"
              style=""><strong>Gemini:</strong> ${plainText}</div>`;

                displayContainer.appendChild(userProfileContainer);
                displayContainer.appendChild(userInputDiv);
                displayContainer.appendChild(responseDiv);

                i++;
            } catch (error) {
                console.error("Error generating content:", error);
            }
        }
        const geminiHeader = document.getElementById('gemini-1');
        const popup = document.getElementById('popup-1');

        geminiHeader.addEventListener('click', (e) => {
            e.stopPropagation();
            popup.style.display = popup.style.display === 'block' ? 'none' : 'block';
        });

        document.addEventListener('click', (e) => {
            if (!geminiHeader.contains(e.target)) {
                popup.style.display = 'none';
            }
        });
        const newbtn = document.querySelector('.new-chat');
        newbtn.addEventListener('click', () => {
            location.reload();

        })
        const advgeminibtn = document.getElementById('geminiadvbtn');
        geminiadvbtn.addEventListener('click', () => {
            location.reload();

        })
    </script>
</body>

</html>
