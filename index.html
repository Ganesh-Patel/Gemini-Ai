<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini</title>
    <link rel="shortcut icon" href="gemini_favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body class="body-class">
    <!-- left-header -->
    <div id="left_header_container" class="left-header-container">
        <div class="flex flex-col">
            <!--Hamburger icon  -->
            <div class="w-full">
                <span id="left_header" class="material-symbols-outlined left-header-icon">
                    menu
                </span>
            </div>
            <!-- plus icon -->
            <div class="new-chat">
                <span class="material-symbols-outlined">
                    add
                </span>
                <span class="wider_left_header_content">New chat</span>
            </div>
        </div>
        <div class="setting-container">
            <!-- Help icon -->
            <div class="left-header-item">
                <span class="material-symbols-outlined left-header-icon">
                    help
                </span>
                <span class="p-[10px] wider_left_header_content">Help</span>
            </div>
            <!-- History icon -->
            <div class="left-header-item">
                <span class="material-symbols-outlined left-header-icon">
                    history
                </span>
                <span class="p-[10px] wider_left_header_content">Activity</span>
            </div>
            <!-- Settings icon -->
            <div class="left-header-item">
                <span class="material-symbols-outlined left-header-icon">
                    settings
                </span>
                <span class="p-[10px] wider_left_header_content">Settings</span>
            </div>
        </div>
    </div>

    <div id="right" class="right-container">
        <header class="top-header">
            <div class="left-header">

                <h2> Gemini </h2>
                <svg class="custom-icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                    width="24px" fill="#5f6368">
                    <path d="M480-360 280-560h400L480-360Z" />
                </svg>

            </div>
            <div class="right-header">
                <button class="geminiadvbtn" id="geminiadvbtn">Try Gemini Advanced</button>
                <span class="material-symbols-outlined">
                    apps
                </span>
                <img class="user-img" src="./gg.jpg" alt="">
            </div>
        </header>

        <!-- center div -->
        <div class="center-div">
            <span id="displayContainer" class="display-container">
                <h1 class="gradient-text">Hello, Ganesh</h1>
                <h1 class="hmhytext">How can I help you today?</h1>
                <div class="options-container">
                    <div class="option-card">
                        Help me find the latest trends
                    </div>
                    <div class="option-card">
                        Help me write a refund email for a product that's damaged
                    </div>
                    <div class="option-card">
                        Come up with a product name for a new app
                    </div>
                    <div class="option-card">
                        Brainstorm a tagline for my online store
                    </div>
                </div>
            </span>
        </div>

        <!--footer search box  -->
        <footer class="footer-container">
            <form id="formElement" action="" class="text-white">
                <span class="footer-search-box">
                    <input class="search-input" type="text" name="" id="searchBox" placeholder="Enter a prompt here">
                    <span class="search-icons">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" class="icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
                        </svg>
                        <input type="file" class="hidden" name="" id="inputImage">
                        <svg xmlns="http://www.w3.org/2000/svg" id="iconInputImageBtn" fill="none" viewBox="0 0 24 24"
                            stroke-width="1.5" stroke="currentColor" class="icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z" />
                        </svg>
                        <button class="send-button" type="button">
                            <svg class="sendbtnsvg" xmlns="http://www.w3.org/2000/svg" height="24px"
                                viewBox="0 -960 960 960" width="24px" fill="#5f6368">
                                <path
                                    d="M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z" />
                            </svg>
                        </button>
                    </span>
                </span>
                <span id="disclamier">Gemini may display inaccurate info, including about people, so double-check its
                    responses. Your privacy and Gemini Apps</span>

            </form>
        </footer>
    </div>
    <!-- const API_KEY = "AIzaSyD5mX0yRLvanvZicir6kcC7JGQhBJ06nxY"; -->
    <script type="importmap">
        {
          "imports": {
            "@google/generative-ai": "https://esm.run/@google/generative-ai"
          }
        }
    </script>

    <script type="module">
        import { GoogleGenerativeAI } from "@google/generative-ai";

        const API_KEY = "AIzaSyD5mX0yRLvanvZicir6kcC7JGQhBJ06nxY";
        const genAI = new GoogleGenerativeAI(API_KEY);
        var i=0;

        const searchBox = document.getElementById("searchBox");
        const sendButton = document.querySelector(".send-button");
        let container = document.querySelector(".center-div");
        let displayContainer = document.getElementById("displayContainer");

        sendButton.addEventListener("click", runCode);
        formElement.addEventListener("submit", function (event) {
            event.preventDefault();
            runCode();
        });


        async function runCode() {
   
            const model = await genAI.getGenerativeModel({ model: "gemini-1.5-flash" });

            let userInput = searchBox.value.trim();
            searchBox.value = '';

            if (userInput === "") return;

            const prompt = userInput;

            try {
                const result = await model.generateContent(prompt);
                const response = await result.response;
                console.log(response);
                const text = await response.text();
                console.log(text);
                if(i===0){
                    displayContainer.innerHTML = "";
                }
       
                let userProfileContainer = document.createElement("div");
                userProfileContainer.classList.add("user-profile-container");

                let userProfileImg = document.createElement("img");
                userProfileImg.src = "./gg.jpg";
                userProfileImg.classList.add("user-img");
                userProfileContainer.appendChild(userProfileImg);

                let userInputDiv = document.createElement("div");
                userInputDiv.innerText = userInput;
                userProfileContainer.appendChild(userInputDiv);

                displayContainer.appendChild(userProfileContainer);

                let outputDiv = document.createElement("div");
                outputDiv.classList.add("outdiv");
                outputDiv.innerHTML = `${text}`;
                displayContainer.style.padding='100';
                displayContainer.style.justifyContent='left';
                const centerDiv = document.querySelector(".center-div");
                    centerDiv.style.alignItems = "left";
                    centerDiv.style.padding = "80px";
                displayContainer.appendChild(outputDiv);
                i++;
            } catch (error) {
                console.error("Error generating content:", error);
            }
        }


    </script>

</body>

</html>
